<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Khet-Bari Pro | Sagar</title>
    
    <meta name="theme-color" content="#1b5e20">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2510/2510250.png">
    
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIktoZXQtQmFyaSBQcm8iLAogICJzaG9ydF9uYW1lIjogIktoZXRCYXJpIiwKICAic3RhcnRfdXJsIjogIi4iLAogICJkaXNwbGF5IjogInN0YW5kYWxvbmUiLAogICJiYWNrZ3JvdW5kX2NvbG9yIjogIiNmNGY3ZjQiLAogICJ0aGVtZV9jb2xvciI6ICIjMWI1ZTIwIiwKICAiaWNvbnMiOiBbCiAgICB7CiAgICAgICJzcmMiOiAiaHR0cHM6Ly9jZG4taWNvbnMtcG5nLmZsYXRpY29uLmNvbS81MTIvMjUxMC8yNTEwMjUwLnBuZyIsCiAgICAgICJzaXplcyI6ICI1MTJ4NTEyIiwKICAgICAgInR5cGUiOiAiaW1hZ2UvcG5nIgogICAgfQogIF0KfQ==">

    <style>
        :root {
            --primary: #1b5e20; --accent: #fbc02d; --danger: #e53935; --info: #0288d1; --bg: #f4f7f4; --card-bg: #ffffff;
        }

        html, body { 
            height: 100%; margin: 0; padding: 0; 
            background-color: var(--bg); font-family: sans-serif;
            overflow-x: hidden;
            scroll-behavior: auto;
        }

        .header {
            background: linear-gradient(135deg, var(--primary), #2e7d32);
            color: white; padding: 25px 15px; text-align: center;
            border-radius: 0 0 25px 25px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            position: sticky; top: 0; z-index: 1000;
        }
        .header h1 { margin: 0; font-size: 22px; font-weight: 900; }

        .container { 
            position: relative; 
            width: 100%;
            padding: 15px; 
            padding-bottom: 100px; 
            box-sizing: border-box;
        }

        .page-view {
            display: none;
            width: 100%;
            animation: fadeIn 0.2s ease-in;
        }
        .page-view.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .card {
            background: var(--card-bg); border-radius: 18px; padding: 18px; margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); border: 1px solid rgba(0,0,0,0.05);
        }

        .card-title {
            font-size: 14px; font-weight: 800; color: var(--primary);
            margin-bottom: 12px; display: flex; align-items: center; gap: 8px; border-bottom: 1px solid #eee; padding-bottom: 8px;
        }

        label { font-size: 11px; font-weight: 800; color: #666; display: block; margin-bottom: 5px; }
        input, select {
            width: 100%; padding: 12px; border-radius: 10px; border: 2px solid #edf2f7;
            font-size: 16px; font-weight: 600; box-sizing: border-box; background: #fafafa; margin-bottom: 10px;
        }

        .btn { border: none; border-radius: 10px; padding: 14px; font-size: 14px; font-weight: 800; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 100%; }
        .btn-primary { background: var(--primary); color: white; margin-bottom: 5px; }
        .btn-outline { background: #fff; border: 2px solid var(--danger); color: var(--danger); }

        .res-display { display: none; margin-top: 12px; padding: 15px; border-radius: 12px; background: #f1f8e9; border: 1.5px dashed var(--primary); }

        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .tile { background: #fff; padding: 10px; border-radius: 12px; border: 1px solid #eee; text-align: center; }
        .tile-val { display: block; font-size: 16px; font-weight: 900; color: var(--primary); }
        .tile-label { font-size: 9px; color: #888; font-weight: 700; text-transform: uppercase; }

        .sarkari-link {
            background: #e3f2fd; color: #0277bd; padding: 12px; border-radius: 10px;
            text-decoration: none; font-weight: 700; font-size: 13px; margin-bottom: 8px;
            display: flex; justify-content: space-between; border: 1px solid #bbdefb;
        }

        .nav {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: #fff; height: 70px; display: flex;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.08); z-index: 9999;
        }
        .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #bbb; font-size: 11px; font-weight: 800; cursor: pointer; }
        .nav-item.active { color: var(--primary); }
    </style>
</head>
<body>

<div class="header"><h1>KHET-BARI PRO</h1></div>

<div class="container">
    <div id="p1" class="page-view active">
        <div class="card">
            <div class="card-title">üìè ‡§ö‡•å‡§ï‡•ã‡§∞ ‡§ñ‡•á‡§§</div>
            <input type="number" id="rl" placeholder="‡§≤‡§Ç‡§¨‡§æ‡§à (‡§´‡•Å‡§ü)">
            <input type="number" id="rw" placeholder="‡§ö‡•å‡§°‡§º‡§æ‡§à (‡§´‡•Å‡§ü)">
            <button class="btn btn-primary" onclick="rect()">‡§∞‡§ø‡§ú‡§≤‡•ç‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç</button>
            <button class="btn btn-outline" onclick="clr(['rl','rw'],'res1')">Reset</button>
            <div id="res1" class="res-display"></div>
        </div>

        <div class="card">
            <div class="card-title">üìê ‡§ü‡•á‡§¢‡§º‡§æ ‡§ñ‡•á‡§§</div>
            <div class="grid">
                <input type="number" id="s1" placeholder="‡§≠‡•Å‡§ú‡§æ 1">
                <input type="number" id="s2" placeholder="‡§≠‡•Å‡§ú‡§æ 2">
                <input type="number" id="s3" placeholder="‡§≠‡•Å‡§ú‡§æ 3">
                <input type="number" id="s4" placeholder="‡§≠‡•Å‡§ú‡§æ 4">
            </div>
            <button class="btn btn-primary" onclick="smart()">‡§π‡§ø‡§∏‡§æ‡§¨ ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç</button>
            <button class="btn btn-outline" onclick="clr(['s1','s2','s3','s4'],'res2')">Reset</button>
            <div id="res2" class="res-display"></div>
        </div>

        <div class="card">
            <div class="card-title">üîó ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§≤‡§ø‡§Ç‡§ï</div>
            <a href="https://bhulekh.bihar.gov.in/" target="_blank" rel="noopener" class="sarkari-link">‡§¨‡§ø‡§π‡§æ‡§∞ ‡§≠‡•Ç‡§≤‡•á‡§ñ <span>‚ûî</span></a>
            <a href="https://upbhulekh.gov.in/" target="_blank" rel="noopener" class="sarkari-link">UP ‡§≠‡•Ç‡§≤‡•á‡§ñ <span>‚ûî</span></a>
            <a href="https://dlrs.bihar.gov.in/" target="_blank" rel="noopener" class="sarkari-link">‡§®‡§Ø‡§æ ‡§®‡§ï‡•ç‡§∂‡§æ <span>‚ûî</span></a>
            <a href="https://jharbhoomi.jharkhand.gov.in/" target="_blank" rel="noopener" class="sarkari-link">‡§ù‡§æ‡§∞‡§≠‡•Ç‡§Æ‡§ø <span>‚ûî</span></a>
        </div>
    </div>

    <div id="p2" class="page-view">
        <div class="card">
            <div class="card-title">üîÑ ‡§è‡§°‡§µ‡§æ‡§Ç‡§∏ ‡§ï‡§®‡§µ‡§∞‡•ç‡§ü‡§∞</div>
            <label>‡§≤‡§ó‡•ç‡§ó‡•Ä ‡§ï‡§æ ‡§∏‡§æ‡§á‡§ú (‡§π‡§æ‡§•)</label>
            <select id="lgi" onchange="cnv()">
                <option value="4">4</option><option value="4.5">4.5</option><option value="5">5</option>
                <option value="5.5">5.5</option><option value="6">6</option><option value="6.5">6.5</option>
                <option value="7">7</option><option value="8">8</option><option value="8.5" selected>8.5</option>
                <option value="9">9</option><option value="10">10</option><option value="11">11</option><option value="12">12</option>
            </select>
            <label>‡§á‡§ï‡§æ‡§à ‡§ö‡•Å‡§®‡•á‡§Ç</label>
            <select id="ut" onchange="cnv()">
                <option value="sqft">Sq.Ft</option><option value="dismil">Decimal</option>
                <option value="dhurki">‡§ß‡•Å‡§∞‡§ï‡•Ä</option><option value="dhur" selected>‡§ß‡•Å‡§∞</option>
                <option value="katha">‡§ï‡§ü‡•ç‡§†‡§æ</option><option value="bigha">‡§¨‡•Ä‡§ò‡§æ</option>
                <option value="acre">‡§è‡§ï‡§°‡§º</option><option value="hectare">‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞</option>
                <option value="sqmeter">‡§µ‡§∞‡•ç‡§ó ‡§Æ‡•Ä‡§ü‡§∞</option><option value="sqyard">‡§µ‡§∞‡•ç‡§ó ‡§ó‡§ú‡§º</option>
            </select>
            <input type="number" id="ui" placeholder="‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§≤‡§ø‡§ñ‡•á‡§Ç..." oninput="cnv()">
            <button class="btn btn-outline" onclick="resetP2()">Reset</button>
        </div>

        <div class="grid">
            <div class="tile" style="grid-column: span 2; background:#fffde7;"><span class="tile-label">‡§°‡§ø‡§∏‡§Æ‡•Ä‡§≤</span><span class="tile-val" id="oDismil">0</span></div>
            <div class="tile"><span class="tile-label">‡§µ‡§∞‡•ç‡§ó ‡§´‡•Å‡§ü</span><span class="tile-val" id="oSqft">0</span></div>
            <div class="tile"><span class="tile-label">‡§ß‡•Å‡§∞</span><span class="tile-val" id="oDhur">0</span></div>
            <div class="tile"><span class="tile-label">‡§ï‡§ü‡•ç‡§†‡§æ</span><span class="tile-val" id="oKatha">0</span></div>
            <div class="tile"><span class="tile-label">‡§¨‡•Ä‡§ò‡§æ</span><span class="tile-val" id="oBigha">0</span></div>
            <div class="tile"><span class="tile-label">‡§ß‡•Å‡§∞‡§ï‡•Ä</span><span class="tile-val" id="oDhurki">0</span></div>
            <div class="tile"><span class="tile-label">‡§è‡§ï‡§°‡§º</span><span class="tile-val" id="oAcre">0</span></div>
            <div class="tile"><span class="tile-label">‡§π‡•á‡§ï‡•ç‡§ü‡•á‡§Ø‡§∞</span><span class="tile-val" id="oHect">0</span></div>
            <div class="tile"><span class="tile-label">‡§µ‡§∞‡•ç‡§ó ‡§ó‡§ú‡§º</span><span class="tile-val" id="oGaj">0</span></div>
            <div class="tile"><span class="tile-label">‡§µ‡§∞‡•ç‡§ó ‡§Æ‡•Ä‡§ü‡§∞</span><span class="tile-val" id="oMeter">0</span></div>
        </div>
        <button class="btn" style="background:#25D366; color:white; margin-top:15px;" onclick="share()">WhatsApp Share</button>
    </div>
</div>

<div class="nav">
    <div class="nav-item active" id="n1" onclick="tab('p1','n1')"><span>üìè</span>‡§®‡§æ‡§™-‡§§‡•å‡§≤</div>
    <div class="nav-item" id="n2" onclick="tab('p2','n2')"><span>üîÑ</span>‡§ï‡§®‡§µ‡§∞‡•ç‡§ü‡§∞</div>
</div>

<script>
    // PWA Service Worker Registration
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('data:application/javascript;base64,c2VsZi5hZGRFdmVudExpc3RlbmVyKCdpbnN0YWxsJywgZSA9PiB7IHNlbGYuc2tpcFdhaXRpbmcoKTsgfSk7CnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCBlID0+IHsgZSAucmVzcG9uZFdpdGgoZmV0Y2goZS5yZXF1ZXN0KS5jYXRjaCgoKSA9PiBuZXcgUmVzcG9uc2UoIk9mZmxpbmUiKSkpOyB9KTs=')
            .then(reg => console.log('SW Registered'))
            .catch(err => console.error('SW Error', err));
        });
    }

    function tab(p, n) {
        document.querySelectorAll('.page-view').forEach(pg => pg.classList.remove('active'));
        document.getElementById(p).classList.add('active');
        document.getElementById('n1').classList.remove('active');
        document.getElementById('n2').classList.remove('active');
        document.getElementById(n).classList.add('active');
        window.scrollTo(0, 0);
    }

    function clr(ids, res) { ids.forEach(i=>document.getElementById(i).value=''); document.getElementById(res).style.display='none'; }
    function resetP2() { document.getElementById('ui').value=''; cnv(); }

    function rect() {
        let l=parseFloat(document.getElementById('rl').value), w=parseFloat(document.getElementById('rw').value);
        if(l && w) { let a=l*w; let r=document.getElementById('res1'); r.style.display='block'; r.innerHTML=`‡§è‡§∞‡§ø‡§Ø‡§æ: <b>${a}</b> Sqft | ‡§°‡§ø‡§∏‡§Æ‡•Ä‡§≤: <b>${(a/435.6).toFixed(3)}</b>`; }
    }

    function smart() {
        let a=parseFloat(document.getElementById('s1').value), b=parseFloat(document.getElementById('s2').value), c=parseFloat(document.getElementById('s3').value), d=parseFloat(document.getElementById('s4').value)||0;
        let area = (d===0) ? (()=>{let s=(a+b+c)/2; return Math.sqrt(s*(s-a)*(s-b)*(s-c))})() : ((a+c)/2)*((b+d)/2);
        if(area>0) { let r=document.getElementById('res2'); r.style.display='block'; r.innerHTML=`‡§è‡§∞‡§ø‡§Ø‡§æ: <b>${area.toFixed(2)}</b> Sqft | ‡§°‡§ø‡§∏‡§Æ‡•Ä‡§≤: <b>${(area/435.6).toFixed(3)}</b>`; }
    }

    function cnv() {
        let lgi=parseFloat(document.getElementById('lgi').value), val=parseFloat(document.getElementById('ui').value)||0,
            ut=document.getElementById('ut').value, dhurS=Math.pow(lgi*1.5, 2), sqft=0;
        if(ut==='sqft') sqft=val; else if(ut==='dismil') sqft=val*435.6; else if(ut==='dhurki') sqft=val*(dhurS/20); else if(ut==='dhur') sqft=val*dhurS; else if(ut==='katha') sqft=val*dhurS*20; else if(ut==='bigha') sqft=val*dhurS*400; else if(ut==='acre') sqft=val*43560; else if(ut==='hectare') sqft=val*107639; else if(ut==='sqmeter') sqft=val*10.764; else if(ut==='sqyard') sqft=val*9;
        document.getElementById('oSqft').innerText=sqft.toFixed(1);
        document.getElementById('oDismil').innerText=(sqft/435.6).toFixed(3);
        document.getElementById('oKatha').innerText=(sqft/(dhurS*20)).toFixed(2);
        document.getElementById('oDhur').innerText=(sqft/dhurS).toFixed(2);
        document.getElementById('oDhurki').innerText=(sqft/(dhurS/20)).toFixed(1);
        document.getElementById('oBigha').innerText=(sqft/(dhurS*400)).toFixed(2);
        document.getElementById('oAcre').innerText=(sqft/43560).toFixed(4);
        document.getElementById('oHect').innerText=(sqft/107639).toFixed(4);
        document.getElementById('oGaj').innerText=(sqft/9).toFixed(1);
        document.getElementById('oMeter').innerText=(sqft/10.764).toFixed(1);
    }
    function share() { window.open("https://api.whatsapp.com/send?text="+encodeURIComponent("‡§ñ‡•á‡§§-‡§¨‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡•ã ‡§ï‡•à‡§≤‡§ï‡•Å‡§≤‡•á‡§ü‡§∞: ‡§¨‡•á‡§π‡§§‡§∞‡•Ä‡§® ‡§ü‡•Ç‡§≤!")); }
</script>

</body>
</html>
